{"ast":null,"code":"import _asyncToGenerator from \"F:/Research-Flutter-ionic/ionic_test_app/testapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { IonicModule } from '@ionic/angular';\nimport { CameraPreview } from '@capacitor-community/camera-preview';\nimport { BrowserModule } from '@angular/platform-browser';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic/angular\";\nimport * as i2 from \"@angular/common\";\nfunction Tab1Page_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"ion-button\", 7);\n    i0.ɵɵlistener(\"click\", function Tab1Page_div_10_Template_ion_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.stopCamera());\n    });\n    i0.ɵɵelement(2, \"ion-icon\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-button\", 9);\n    i0.ɵɵlistener(\"click\", function Tab1Page_div_10_Template_ion_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.takePicture());\n    });\n    i0.ɵɵelement(4, \"ion-icon\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"ion-button\", 11);\n    i0.ɵɵlistener(\"click\", function Tab1Page_div_10_Template_ion_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.flipCamera());\n    });\n    i0.ɵɵelement(6, \"ion-icon\", 12);\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction Tab1Page_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"img\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r1.image, i0.ɵɵsanitizeUrl);\n  }\n}\nexport class Tab1Page {\n  constructor(modal) {\n    this.modal = modal;\n    this.cameraActive = false;\n  }\n  ngOnInit() {\n    this.launchCamera();\n  }\n  launchCamera() {\n    const cameraPreviewOptions = {\n      position: 'front',\n      parent: 'content',\n      className: '',\n      width: window.screen.width,\n      height: window.screen.height - 200,\n      toBack: false\n    };\n    CameraPreview.start(cameraPreviewOptions);\n    this.cameraActive = true;\n  }\n  takePicture() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const cameraPreviewPictureOptions = {\n        quality: 90\n      };\n      const result = yield CameraPreview.capture(cameraPreviewPictureOptions);\n      _this.image = `data:image/jpeg;base64,${result.value}`;\n      _this.stopCamera();\n    })();\n  }\n  stopCamera() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      yield CameraPreview.stop();\n      _this2.modal.dismiss(_this2.image);\n    })();\n  }\n  flipCamera() {\n    return _asyncToGenerator(function* () {\n      yield CameraPreview.flip();\n    })();\n  }\n}\nTab1Page.ɵfac = function Tab1Page_Factory(t) {\n  return new (t || Tab1Page)(i0.ɵɵdirectiveInject(i1.ModalController));\n};\nTab1Page.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: Tab1Page,\n  selectors: [[\"app-tab1\"]],\n  standalone: true,\n  features: [i0.ɵɵStandaloneFeature],\n  decls: 14,\n  vars: 5,\n  consts: [[3, \"translucent\"], [3, \"fullscreen\"], [\"collapse\", \"condense\"], [\"size\", \"large\"], [\"id\", \"content\", 3, \"fullscreen\"], [4, \"ngIf\"], [\"color\", \"primary\", \"expand\", \"block\", \"fill\", \"solid\", \"size\", \"default\", 3, \"click\"], [\"expand\", \"block\", \"id\", \"close\", 3, \"click\"], [\"slot\", \"icon-only\", \"name\", \"close-circle\"], [\"expand\", \"block\", \"id\", \"capture\", 3, \"click\"], [\"slot\", \"icon-only\", \"name\", \"camera\"], [\"expand\", \"block\", \"id\", \"flip\", 3, \"click\"], [\"slot\", \"icon-only\", \"name\", \"repeat\"], [\"alt\", \"\", \"srcset\", \"\", 3, \"src\"]],\n  template: function Tab1Page_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\")(2, \"ion-title\");\n      i0.ɵɵtext(3, \" Tab 1 \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(4, \"ion-content\", 1)(5, \"ion-header\", 2)(6, \"ion-toolbar\")(7, \"ion-title\", 3);\n      i0.ɵɵtext(8, \"Tab 1\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(9, \"ion-content\", 4);\n      i0.ɵɵtemplate(10, Tab1Page_div_10_Template, 7, 0, \"div\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(11, Tab1Page_div_11_Template, 2, 1, \"div\", 5);\n      i0.ɵɵelementStart(12, \"ion-button\", 6);\n      i0.ɵɵlistener(\"click\", function Tab1Page_Template_ion_button_click_12_listener() {\n        return ctx.openCamera();\n      });\n      i0.ɵɵtext(13, \" Open Camera \");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"translucent\", true);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"fullscreen\", true);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"fullscreen\", true);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.cameraActive);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.image);\n    }\n  },\n  dependencies: [IonicModule, i1.IonButton, i1.IonContent, i1.IonHeader, i1.IonIcon, i1.IonTitle, i1.IonToolbar, BrowserModule, i2.NgIf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";AACA,SAASA,WAAW,QAAyB,gBAAgB;AAC7D,SAA6DC,aAAa,QAAO,qCAAqC;AACtH,SAASC,aAAa,QAAQ,2BAA2B;;;;;;;ICYrDC,2BAA0B;IACZA;MAAAA;MAAA;MAAA,OAASA,kCAAY;IAAA,EAAC;IAChCA,8BAA0D;IAC5DA,iBAAa;IAEbA,qCAAgE;IAApDA;MAAAA;MAAA;MAAA,OAASA,mCAAa;IAAA,EAAC;IACjCA,+BAAoD;IACtDA,iBAAa;IAEbA,sCAA4D;IAAhDA;MAAAA;MAAA;MAAA,OAASA,kCAAY;IAAA,EAAC;IAChCA,+BAAoD;IACtDA,iBAAa;;;;;IAGjBA,2BAAmB;IACjBA,0BAAoC;IACtCA,iBAAM;;;;IADCA,eAAa;IAAbA,oDAAa;;;ADdtB,OAAM,MAAOC,QAAQ;EAGnBC,YAAoBC,KAAsB;IAAtB,UAAK,GAALA,KAAK;IADzB,iBAAY,GAAG,KAAK;EACyB;EAE7CC,QAAQ;IACN,IAAI,CAACC,YAAY,EAAE;EACtB;EAEAA,YAAY;IACR,MAAMC,oBAAoB,GAAyB;MACjDC,QAAQ,EAAE,OAAO;MACjBC,MAAM,EAAE,SAAS;MACjBC,SAAS,EAAE,EAAE;MACbC,KAAK,EAAEC,MAAM,CAACC,MAAM,CAACF,KAAK;MAC1BG,MAAM,EAAEF,MAAM,CAACC,MAAM,CAACC,MAAM,GAAG,GAAG;MAClCC,MAAM,EAAE;KACT;IACDhB,aAAa,CAACiB,KAAK,CAACT,oBAAoB,CAAC;IACzC,IAAI,CAACU,YAAY,GAAG,IAAI;EAC5B;EACOC,WAAW;IAAA;IAAA;MACf,MAAMC,2BAA2B,GAAgC;QAC/DC,OAAO,EAAE;OACV;MACD,MAAMC,MAAM,SAAStB,aAAa,CAACuB,OAAO,CAACH,2BAA2B,CAAC;MACvE,KAAI,CAACI,KAAK,GAAG,0BAA0BF,MAAM,CAACG,KAAK,EAAE;MACrD,KAAI,CAACC,UAAU,EAAE;IAAC;EACpB;EACKA,UAAU;IAAA;IAAA;MACb,MAAM1B,aAAa,CAAC2B,IAAI,EAAE;MAC1B,MAAI,CAACtB,KAAK,CAACuB,OAAO,CAAC,MAAI,CAACJ,KAAK,CAAC;IAAC;EACjC;EAEMK,UAAU;IAAA;MACd,MAAM7B,aAAa,CAAC8B,IAAI,EAAE;IAAC;EAC9B;;AApCY3B,QAAQ;mBAARA,QAAQ;AAAA;AAARA,QAAQ;QAARA,QAAQ;EAAA4B;EAAAC;EAAAC;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MChBrBnC,qCAAiC;MAG3BA,uBACF;MAAAA,iBAAY;MAIhBA,sCAAiC;MAGHA,qBAAK;MAAAA,iBAAY;MAG7CA,sCAA8C;MAC5CA,2DAYM;MACRA,iBAAc;MACdA,2DAEM;MACNA,sCAA8F;MAAlFA;QAAA,OAASoC,gBAAY;MAAA,EAAC;MAChCpC,8BACF;MAAAA,iBAAa;;;MAlCHA,kCAAoB;MAQnBA,eAAmB;MAAnBA,iCAAmB;MAMJA,eAAmB;MAAnBA,iCAAmB;MACrCA,eAAkB;MAAlBA,uCAAkB;MAcpBA,eAAW;MAAXA,gCAAW;;;iBDjBPH,WAAW,qFAAIE,aAAa;EAAAsC;AAAA","names":["IonicModule","CameraPreview","BrowserModule","i0","Tab1Page","constructor","modal","ngOnInit","launchCamera","cameraPreviewOptions","position","parent","className","width","window","screen","height","toBack","start","cameraActive","takePicture","cameraPreviewPictureOptions","quality","result","capture","image","value","stopCamera","stop","dismiss","flipCamera","flip","selectors","standalone","features","decls","vars","consts","template","ctx","styles"],"sourceRoot":"","sources":["F:\\Research-Flutter-ionic\\ionic_test_app\\testapp\\src\\app\\tab1\\tab1.page.ts","F:\\Research-Flutter-ionic\\ionic_test_app\\testapp\\src\\app\\tab1\\tab1.page.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { IonicModule, ModalController } from '@ionic/angular';\nimport { CameraPreviewOptions, CameraPreviewPictureOptions , CameraPreview} from '@capacitor-community/camera-preview';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { PreviewPage } from '../preview/preview.page';\n\n\n@Component({\n  selector: 'app-tab1',\n  templateUrl: 'tab1.page.html',\n  styleUrls: ['tab1.page.scss'],\n  standalone: true,\n  imports: [IonicModule,   BrowserModule,\n\n    ],\n})\nexport class Tab1Page {\n  image: any;\n  cameraActive = false;\n  constructor(private modal: ModalController) {}\n  \n  ngOnInit() {\n    this.launchCamera()\n }\n \n launchCamera() {\n     const cameraPreviewOptions: CameraPreviewOptions = {\n       position: 'front', // front or rear\n       parent: 'content', // the id on the ion-content\n       className: '',\n       width: window.screen.width, //width of the camera display\n       height: window.screen.height - 200, //height of the camera\n       toBack: false,\n     };\n     CameraPreview.start(cameraPreviewOptions);\n     this.cameraActive = true;\n }\n  async takePicture() {\n    const cameraPreviewPictureOptions: CameraPreviewPictureOptions = {\n      quality: 90\n    };\n    const result = await CameraPreview.capture(cameraPreviewPictureOptions);\n    this.image = `data:image/jpeg;base64,${result.value}`;\n    this.stopCamera();\n  }\n async stopCamera() {\n    await CameraPreview.stop();\n    this.modal.dismiss(this.image);\n  }\n\n  async flipCamera() {\n    await CameraPreview.flip();\n }\n}\n","<ion-header [translucent]=\"true\">\n  <ion-toolbar>\n    <ion-title>\n      Tab 1\n    </ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content [fullscreen]=\"true\">\n  <ion-header collapse=\"condense\">\n    <ion-toolbar>\n      <ion-title size=\"large\">Tab 1</ion-title>\n    </ion-toolbar>\n  </ion-header>\n  <ion-content id=\"content\" [fullscreen]=\"true\">\n    <div *ngIf=\"cameraActive\">\n      <ion-button (click)=\"stopCamera()\" expand=\"block\" id=\"close\">\n        <ion-icon slot=\"icon-only\" name=\"close-circle\"></ion-icon>\n      </ion-button>\n\n      <ion-button (click)=\"takePicture()\" expand=\"block\" id=\"capture\">\n        <ion-icon slot=\"icon-only\" name=\"camera\"></ion-icon>\n      </ion-button>\n\n      <ion-button (click)=\"flipCamera()\" expand=\"block\" id=\"flip\">\n        <ion-icon slot=\"icon-only\" name=\"repeat\"></ion-icon>\n      </ion-button>\n    </div>\n  </ion-content>\n  <div *ngIf=\"image\">\n    <img [src]=\"image\" alt=\"\" srcset=\"\">\n  </div>\n  <ion-button (click)=\"openCamera()\" color=\"primary\" expand=\"block\" fill=\"solid\" size=\"default\">\n    Open Camera\n  </ion-button>\n\n</ion-content>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}